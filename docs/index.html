<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Visualización de datos,   introducción a ggplot2</title>
    <meta charset="utf-8" />
    <meta name="author" content="R-Ladies Bilbao" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis-fonts.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/plotly-binding/plotly.js"></script>
    <script src="libs/typedarray/typedarray.min.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link href="libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="libs/plotly-main/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="ggplot2.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Visualización de datos, <br> introducción a <code>ggplot2</code>
### R-Ladies Bilbao
### <strong>Wikitoki</strong>, 2019-09-19

---





layout: false
class: inverse center middle text-white

.font200[ 1) Introducción]


---
layout: false

# Introducción a la visualización de datos

&lt;/br&gt;

.center[![](images/milestone1.png)]


.footnote[Milestone project &lt;http://www.datavis.ca/&gt;]

---

# Introducción a la visualización de datos

&lt;/br&gt;

.center[
&lt;img src="images/Florence.jpeg" width="700" /&gt;
]

---

class: inverse center middle text-white

.font200[ 2) ggplot2]


---

# ¿Qué es *ggplot2*?

&lt;br&gt;
Paquete para la visualización de datos basado en la gramática de los gráficos...
&lt;br&gt;*A Layered Grammar of Graphics (Wickham 2010)*


.img-right[![](images/poppins-bag.gif)]


&lt;br&gt;&lt;br&gt;
Uno de los paquetes del conjunto de `tidyverse`. 


&lt;br&gt;&lt;br&gt;
Intuitivo y potente... tiene muchas funcionalidades.

--

.img-right[![](images/poppins-bag-kids.gif)]


---
layout: true
# ¿Por qué ggplot2?
---

&lt;br&gt;

- Fácil de crear gráficos .hl[informativos] y .hl[elegantes].

- Sintaxis .hl[intuitiva], .hl[consistente] y fácil de .hl[recordar]. 

- Nos hace .hl[pensar] cómo nos llevan los datos a la visualización.  

- Visualización de datos .hl[funcional].

    1. Datos 
    2. Mapear datos a elementos visuales 
    3. Ajustar escalas, ejes, etiquetas, temas...


&lt;div align="justify"&gt;&lt;font size="4" color="#777"&gt; &lt;i&gt; &amp;nbsp &amp;nbsp "Good grammar is just the first step in creating a good sentence." &lt;/i&gt;&lt;/font&gt;&lt;/div&gt;


---

.left-column[ &lt;/br&gt;&lt;/br&gt;
![](images/density-qualitative-1.png)
]

.right-column[.font80[

&amp;#128070; "*It is an intuitive library that is founded on a logical mapping between data and graphical elements, building plots up not by thinking in terms of dots on paper, but in terms of what the data means. Think about your data and what you want to communicate, not the mechanics of drawing.*"

&lt;/br&gt;

&amp;#9995;"*Makes doing the right thing easy, while keeping harder things possible.*"

&lt;/br&gt;

&amp;#128233; "*Automatic legends, colors, etc.*"

&lt;/br&gt;

&amp;#128079; "*Easy superposition (boxplot + points + lines + …) +  +  +*"
]
.footnote[&lt;https://github.com/tidyverse/ggplot2/wiki/Why-use-ggplot2&gt;]
]

---


layout: false
# gg: grammar of graphics

.left-code[

&lt;/br&gt;&lt;/br&gt;&lt;/br&gt;
### ¿Cómo se relacionan el gráfico de la derecha y los datos?

.footnote[&lt;http://vita.had.co.nz/papers/layered-grammar.pdf&gt;]
]

.right-plot[
&lt;img src="index_files/figure-html/guess-data-from-plot-0-1.png" width="100%" /&gt;
]

---
layout: true
# Adivina qué datos están detrás de este gráfico

.left-code[
### Esperanza de vida y PIB de los países

- Continente
- Población
- PIB per cápita
- Esperanza de vida al nacer (en años)
]

---

.right-plot[
&lt;img src="index_files/figure-html/guess-data-from-plot-2-1.png" width="100%" /&gt;
]

---

.right-plot[
&lt;img src="index_files/figure-html/guess-data-from-plot-3-1.png" width="100%" /&gt;
]

---

.right-plot[
&lt;img src="index_files/figure-html/guess-data-from-plot-1-1.png" width="100%" /&gt;
]

---

.right-plot[
&lt;img src="index_files/figure-html/guess-data-from-plot-4-1.png" width="100%" /&gt;
]

---

.right-plot[
&lt;img src="index_files/figure-html/guess-data-from-plot-5-1.png" width="100%" /&gt;
]

---

.right-plot[
&lt;img src="index_files/figure-html/guess-data-from-plot-6-1.png" width="100%" /&gt;
]

---

.right-plot[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; continent &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; pop &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; gdpPercap &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; lifeExp &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Asia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31889923 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 974.5803 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 43.828 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Albania &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Europe &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3600523 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5937.0295 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 76.423 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Algeria &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Africa &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33333216 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6223.3675 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 72.301 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Angola &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Africa &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12420476 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4797.2313 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 42.731 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Argentina &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Americas &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 40301927 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12779.3796 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75.320 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Australia &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Oceania &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20434176 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 34435.3674 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 81.235 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Austria &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Europe &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8199783 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36126.4927 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 79.829 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Bahrain &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Asia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 708573 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 29796.0483 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75.635 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]


---
layout: false

# Empecemos... 

### &amp;#128073; Abrir el *script R de práctica*

### Cargar ggplot2


```r
library(ggplot2)
```

### Cargar tidyverse


```r
library(tidyverse)
```

```
## ── Attaching packages ───────────────────────────────────────────────── tidyverse 1.2.1 ──
```

```
## ✔ tibble  2.1.3     ✔ purrr   0.3.2
## ✔ tidyr   1.0.0     ✔ stringr 1.4.0
## ✔ readr   1.3.1     ✔ forcats 0.4.0
```

```
## ── Conflicts ──────────────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
```


---
layout: false
class: inverse center middle text-white

.font200[3) Elementos básicos]


---
layout: false
# Plantilla de ggplot2

&lt;/br&gt;&lt;/br&gt;
.font170[
&gt; ggplot(data = &amp;lt;DATA&amp;gt;) + 
&gt;
&gt; &amp;lt;GEOM_FUNCTION&amp;gt;(mapping = aes(&amp;lt;MAPPINGS&amp;gt;))

]
&lt;/br&gt;

---
layout: false
# Elementos

.font120[
- **Data** para ser visualizado

- **.hlb[Geom]etric objects** que aparecen en el gráfico

- **.hlb[Aes]thetic mappings** de los datos al componente visual

- **.hlb[Stat]istics** transformar datos para su visualización

- **.hlb[Coord]inates** organizar la ubicación de los objetos geométricos

- **.hlb[Scale]s** definir el rango de valores para la estética

- **.hlb[Facet]s** agrupar en subgráficos
]


---
layout: true
# gg: Grammar of Graphics

.left-column[
### Data

```r
ggplot(data)
```
]

---

.right-column[
#### Tidy Data

1. Cada variable forma una .hl[columna]

2. Cada observación forma una .hl[fila]

]

--

.right-column[
#### Antes de nada... 

1. ¿Qué información quiero usar en mi visualización?

2. ¿Están esos datos contenidos en .hl[una columna/fila] para cada punto de dato?

&amp;#129300;&amp;#129300;&amp;#129300;
]


---
layout: false
# Datos: Economic Activity Data

.font70[
#### **Description**

Information related to the economic activity for females and males of seven years for 168 countries worldwide.

#### **Usage**

econAct

#### **Format**

A data frame with 2676 rows and 11 variables:]

.pull-left[
.font60[
*.hl[Country and Country.iso3]*: factors with 168 levels
          
*.hl[Region]*: factor with 7 levels
          
*.hl[Income]*: factor with 4 levels  
          
*.hl[Year]*: ranges from 2010 to 2017 in increments of 1 year

*.hl[Gender]*: factor with 2 levels (F=Female, M=Male)
]]          

.pull-right[ 
.font60[
*.hl[Employ.agri]*: employment in agriculture (% of female or male employment)
         
*.hl[Employ.indu]*: employment in industry (% of female or male employment)
         
*.hl[Employ.serv]*: employment in services (% of female or male employment)
         
*.hl[Life.Exp]*: life expectancy at birth, in years
          
*.hl[Equal.remun]*:  Law mandates equal remuneration for females and males for work of equal value (1=yes; 0=no)
]]         

.font70[
#### **Source**

Gender Statistics, The World Bank, &lt;https://databank.bancomundial.org/source/gender-statistics#&gt;
]

---
layout: true



# Aesthetics I

.left-column[
### Data
### Aesthetics

```r
+ aes()
```

]

---

.right-column[
Mapear los datos a elementos o parámetros visuales

- Employ.agri

- Life.Exp

- Income
]

---

.right-column[
Mapear los datos a elemento o parámetros visuales

- Employ.agri → **x**

- Life.Exp → **y**

- Income → *shape*, *color*, etc.
]

---

.right-column[
Mapear datos a elementos o parámetros visuales

.font70[
```r
ggplot(data = our_data) + 
  geom_point(mapping = aes(x = Employ.agri, y = Life.Exp, color = Income))
                          
```
]]

--

.right-column[
&lt;img src="index_files/figure-html/prac1-1.png" width="55%" /&gt;

]


---
layout: true

# Aesthetics II
.left-column[
### Data
### Aesthetics

```r
+ aes()
```

]

---

.right-column[
.font70[
```r
ggplot(data = econAct) + 
  geom_point(mapping = aes(x = Employ.agri, y = Life.Exp, color = Year))

ggplot(data = econAct) + 
  geom_point(mapping = aes(x = Employ.agri, y = Life.Exp, color = factor(Year)))
                          
```
]]

--

.right-column[
&lt;img src="index_files/figure-html/prac2-1.png" width="50%" /&gt;&lt;img src="index_files/figure-html/prac2-2.png" width="50%" /&gt;

]


---
layout: false
count: hide
class: fullscreen, inverse, top, right, text-white
background-image: url(images/meryl.gif)

.font80[Zuen txanda!]


---
layout: true

# Aesthetics III: mapping vs. setting
.left-column[
### Data
### Aesthetics

```r
+ aes()
```

]

---

.right-column[
- **.hlb[Dentro] de `aes()`:** se considera que está en el *espacio de los datos*. Por lo tanto, se aplica una transformación para representarlo.

- **.hlb[Fuera] de `aes()`:** se considera que representa un valor del _espacio de visualización_. Se representa directamente con este valor. 

.font80[
```r
ggplot(data = our_data) +
  geom_point(aes(x = Employ.agri, y = Life.Exp, color = 'blue'))

ggplot(data = our_data) +
  geom_point(aes(x = Employ.agri, y = Life.Exp), color = 'blue')
```
]]

---

.right-column[
- **.hlb[Dentro] de `aes()`:** se considera que está en el *espacio de los datos*. Por lo tanto, se aplica una transformación para representarlo.

- **.hlb[Fuera] de `aes()`:** se considera que representa un valor del _espacio de visualización_. Se representa directamente con este valor. 


&lt;img src="index_files/figure-html/prac3-1.png" width="48%" /&gt;&lt;img src="index_files/figure-html/prac3-2.png" width="48%" /&gt;
]

---
layout: false
count: hide
class: fullscreen, inverse, top, right, text-white
background-image: url(images/meryl.gif)

.font80[Zuen txanda!]


---
layout: true
# Geoms: objetos geométricos

.left-column[
### Data
### Aesthetics
### Geoms

```r
+ geom_*()
```
]

---

.right-column[
Algunos objetos geométricos gráficamente:

&lt;img src="index_files/figure-html/geom_demo-1.png" width="650px" /&gt;
]

---

.right-column[
Estas son [algunas de las geoms más utilizadas](https://eric.netlify.com/2017/08/10/most-popular-ggplot2-geoms/)

.font70.center[
| Type | Function |
|:----:|:--------:|
| Point | `geom_point()` |
| Line | `geom_line()` |
| Bar | `geom_bar()`, `geom_col()` |
| Histogram | `geom_histogram()` |
| Regression | `geom_smooth()` |
| Boxplot | `geom_boxplot()` |
| Text | `geom_text()` |
| Vert./Horiz. Line | `geom_{vh}line()` |
| Count | `geom_count()` |
| Density | `geom_density()` |

&lt;https://eric.netlify.com/2017/08/10/most-popular-ggplot2-geoms/&gt;
]
]


---

.right-column[

Ver &lt;http://ggplot2.tidyverse.org/reference/&gt; para muchas más opciones

.font70[

```
##  [1] "geom_abline"     "geom_area"       "geom_bar"        "geom_bin2d"     
##  [5] "geom_blank"      "geom_boxplot"    "geom_col"        "geom_contour"   
##  [9] "geom_count"      "geom_crossbar"   "geom_curve"      "geom_density"   
## [13] "geom_density2d"  "geom_density_2d" "geom_dotplot"    "geom_errorbar"  
## [17] "geom_errorbarh"  "geom_freqpoly"   "geom_hex"        "geom_histogram" 
## [21] "geom_hline"      "geom_jitter"     "geom_label"      "geom_line"      
## [25] "geom_linerange"  "geom_map"        "geom_path"       "geom_point"     
## [29] "geom_pointrange" "geom_polygon"    "geom_qq"         "geom_qq_line"   
## [33] "geom_quantile"   "geom_raster"     "geom_rect"       "geom_ribbon"    
## [37] "geom_rug"        "geom_segment"    "geom_sf"         "geom_sf_label"  
## [41] "geom_sf_text"    "geom_smooth"     "geom_spoke"      "geom_step"      
## [45] "geom_text"       "geom_tile"       "geom_violin"     "geom_vline"
```
]
]
--

.right-column[
&lt;img src="images/geom.gif" width="200px" style="float: right; margin-right: 100px; margin-top: -25px;"&gt;
O simplemente teclea `geom_` en RStudio
]


---
layout: true
# Geoms: global vs. local
.left-column[
### Data
### Aesthetics
### Geoms

```r
+ geom_*()
```
]

---
.right-column[
.font70[
- Mappings y datos incluidos en `ggplot()` se aplicarán globalmente a todas las capas.

```r
ggplot(data = our_data, aes(x = Employ.agri, y = Life.Exp)) +
  geom_point() +
  geom_smooth()
```

- Mappings y datos incluidos en una función `geom_()` sobreescribirá las condiciones globales únicamente para esta capa.

```r
ggplot(data = our_data, aes(x = Employ.agri, y = Life.Exp)) + 
  geom_point(aes(color = Income)) + 
  geom_smooth()
```
]
]


---

.right-column[
.font70[- Mappings y datos incluidos en `ggplot()` se aplicarán globalmente a todas las capas.

&lt;img src="index_files/figure-html/prac4-1.png" width="33%" /&gt;


- Mappings y datos incluidos en una función `geom_()` sobreescribirá las condiciones globales únicamente para esta capa.

&lt;img src="index_files/figure-html/prac5-1.png" width="33%" /&gt;
]
]


---

.right-column[
.font80[
```r
geom_*(mapping, data, stat, position)
```

- `data` los **.hbl[geoms]** pueden tener sus propios datos
  - Tiene que mapear en las coordenadas globales

- `map` los **.hbl[geoms]** pueden tener sus propios aesthetics
  - O hereda el `aes()` global
  - Unos **.hbl[geoms]** tienen `aes` específicos de su propio **.hbl[geom]**.
      - `geom_point` necesita `x` y `y`, opcionalmente `shape`, `color`, `size`, etc.
      - `geom_ribbon` requiere `x`, `ymin` y `ymax`, opcionalmente `fill`
      - `?geom_ribbon`
]
]

---

.right-column[
.font80[
```r
geom_*(mapping, data, stat, position)
```

- `stat` algunas **.hbl[geoms]** aplican transformaciones adicionales a los datos
  - `stat = 'identity'`, `stat= 'count'`
  - Ejemplo: `geom_histogram` usa `stat_bin()` para agrupar observaciones

- `position` algunos ajustan la ubicación de los objetos
- `'dodge'`, `'stack'`, `'jitter'`
]
]


.pull-right[
&lt;img src="index_files/figure-html/geom_bar-1.png" width="80%" /&gt;
]

---
layout: true
# Facets

.left-column[
### Data
### Aesthetics
### Geoms
### Facet

```r
+facet_wrap() 

+facet_grid()
```
]

---



.right-column[
.font70[

```r
g &lt;- ggplot(our_data3) +
  aes(x = factor(Year), y = Life.Exp, color = Region) +
  geom_point() +
  geom_line(aes(group = Country))

g + facet_wrap(~ Country)
```

&lt;img src="index_files/figure-html/geom_facet-1.png" width="85%" /&gt;
]]

---


.right-column[
.font70[

```r
g2 &lt;- ggplot(our_data4) +
  aes(x = Year,y = Life.Exp, color = Region) +
  geom_point() +
  geom_line(aes(group = Country))

g2 + facet_grid(Gender ~ Region)
```

&lt;img src="index_files/figure-html/geom_grid-1.png" width="85%" /&gt;
]]

---
layout: false
count: hide
class: fullscreen, inverse, top, right, text-white
background-image: url(images/meryl.gif)

.font80[Zuen txanda!]


---
layout: true
# Labels

.left-column[
### Data
### Aesthetics
### Geoms
### Facet
### Labels

```r
+ labs()
```
]

---

.right-column[.font80[

```r
g + labs(x = "Year", y = "Esperanza de vida", title = "Nuestro gráfico", caption = "RLadiesBIO")
```

&lt;img src="index_files/figure-html/labs-ex-1.png" width="90%" /&gt;
]]

---
layout: true
# Coords

.left-column[
### Data
### Aesthetics
### Geoms
### Facet
### Labels
### Coords

```r
+ coord_*()
```
]

---

.right-column[

```r
g + coord_flip()
```

&lt;img src="index_files/figure-html/coord-ex-1.png" width="90%" /&gt;
]

---

.right-column[

```r
g + coord_polar()
```

&lt;img src="index_files/figure-html/coord-ex2-1.png" width="90%" /&gt;
]


---
layout: true
# Scales

.left-column[
### Data
### Aesthetics
### Geoms
### Facet
### Labels
### Coords
### Scales

```r
+ scale_*_*()
```
]

---

.right-column[.font80[
`scale` + `_` + `&lt;aes&gt;` + `_` + `&lt;type&gt;` + `()`

¿Qué parámetro quiero ajustar? → `&lt;aes&gt;` 

¿De qué tipo es el parámetro? → `&lt;type&gt;` &lt;/br&gt;&lt;/br&gt;

- Quiero cambiar el eje X discreto x-axis&lt;br&gt;`scale_x_discrete()`

- Quiero cambiar el **rango** de tamaño de los puntos de la variable continua&lt;br&gt;`scale_size_continuous()`

- Quiero reescalar el eje Y como log&lt;br&gt;`scale_y_log10()`

- Quiero utilizar una paleta de colores diferente&lt;br&gt;`scale_fill_discrete()`&lt;br&gt;`scale_color_manual()`
]]

---

.right-column[.font70[

```r
g + scale_color_manual(values = c("peru", "dodgerblue3", "plum", "firebrick3", "springgreen4"))
```

&lt;img src="index_files/figure-html/scale_ex1-1.png" width="90%" /&gt;
]]

---

.right-column[.font70[

```r
g + scale_y_log10()
```

&lt;img src="index_files/figure-html/scale_ex2-1.png" width="90%" /&gt;
]]

---

.right-column[.font70[

```r
g + scale_x_discrete(breaks = seq(2010, 2018, 3))
```

&lt;img src="index_files/figure-html/scale_ex4-1.png" width="90%" /&gt;
]]

---
layout: true
# Themes

.left-column[
### Data
### Aesthetics
### Geoms
### Facet
### Labels
### Coords
### Scales
### Theme

```r
+ theme()
```
]

---

.right-column[
Cambiar la apariencia de los gráficos, añadir adornos&lt;br&gt;
i.e. cosas que no se mapean

Algunos **.hbl[temas]** que incluye el paquete `ggthemes`:

- `g + theme_bw()`
- `g + theme_dark()`
- `g + theme_gray()`
- `g + theme_light()`
- `g + theme_minimal()`

]

---
  
  
.right-column[

```r
library(ggthemes)

g + theme_bw()
```

&lt;img src="index_files/figure-html/unnamed-chunk-1-1.png" width="90%" /&gt;
]

---


.center[![](images/theme.PNG)]

---
  
.right-column[
.font80[

```r
g + theme_minimal() + theme(text = element_text(family = "Palatino"))
```

&lt;img src="index_files/figure-html/unnamed-chunk-2-1.png" width="90%" /&gt;
]]

---
  
.right-column[
Puedes crear tu propio tema, incluso establecerlo globalmente con `theme_set()`

.font90[    

```r
rladiesBIO_theme &lt;- theme_bw() +
  theme(
    axis.text = element_text(colour = "white"),
    axis.text.x = element_text(angle = 90),
    text = element_text(family = "Palatino", size = 14),
    plot.background = element_rect(fill="#88398a", colour=NA),
    panel.border = element_rect(colour = 'grey80'), 
    panel.grid.minor = element_blank()
  )

theme_set(rladiesBIO_theme)
```
]

Ahora todos los plots tendrán este tema!!
]

---
  
.right-column[

```r
g
```

&lt;img src="index_files/figure-html/unnamed-chunk-3-1.png" width="90%" /&gt;
]

---
  
.right-column[

```r
g + theme(legend.position = 'bottom')
```

&lt;img src="index_files/figure-html/unnamed-chunk-4-1.png" width="100%" /&gt;
]

---
layout: false
# Save Your Work!

Para guardar el gráfico, **ggsave**
  

```r
ggsave(
  filename = "my_plot.png",
  plot = my_plot,
  width = 10,
  height = 8,
  dpi = 100,
  device = "png"
)
```


---

layout: false
class: inverse center middle text-white

.font200[4) Otros aspectos]

---

# Mapas: ggmap, maptools...

.left-code[.font80[

```r
library(maptools)

data(wrld_simpl)
is(wrld_simpl)
head(wrld_simpl@data)

# fortify sirve con objetos maps, sp, etc
world_ggmap &lt;- fortify(wrld_simpl, region = "ISO3")
head(world_ggmap)

ggplot(our_data) +
  geom_map(aes(map_id = Country.iso3, fill = Employ.agri), map = world_ggmap) +
  expand_limits(x = world_ggmap$long, y = world_ggmap$lat) +
  scale_fill_continuous(type = "viridis") +
  theme_minimal()
```
]]


.right-plot[
    ![](images/map1.png)
]

---
# Gráficos animados: gganimate...
    

.left-code[


.font70[

```r
  # library(devtools)
  # install_github("thomasp85/gganimate")
  library(gganimate)
  
  # Same plot without facet_wrap()
  g_hra + 
    transition_states(year, 1, 0) + 
    ggtitle("{closest_state}")
```
]
]
  
.right-plot[
    ![](images/hans-rosling-esque.gif)
]


---

# Minard: tropas de Napoleon en la campaña de Rusia

![](images/minard.png)


---

# plotly

&lt;/br&gt;

.left-code[

```r
library(plotly)

ggplotly(g)
```
]

.pull-right[
<div id="htmlwidget-c5b2081df0717a5c9d08" style="width:550px;height:400px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c5b2081df0717a5c9d08">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8],"y":[71.601,72.053,72.457,72.806,73.099,73.342,73.546,73.729],"text":["factor(Year): 2010<br />Life.Exp: 71.601<br />Region: East Asia & Pacific","factor(Year): 2011<br />Life.Exp: 72.053<br />Region: East Asia & Pacific","factor(Year): 2012<br />Life.Exp: 72.457<br />Region: East Asia & Pacific","factor(Year): 2013<br />Life.Exp: 72.806<br />Region: East Asia & Pacific","factor(Year): 2014<br />Life.Exp: 73.099<br />Region: East Asia & Pacific","factor(Year): 2015<br />Life.Exp: 73.342<br />Region: East Asia & Pacific","factor(Year): 2016<br />Life.Exp: 73.546<br />Region: East Asia & Pacific","factor(Year): 2017<br />Life.Exp: 73.729<br />Region: East Asia & Pacific"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"East Asia & Pacific","legendgroup":"East Asia & Pacific","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8],"y":[83,83.3,83.1,83.2,83.9,83.4,84,84,85.3,85.7,85.4,85.6,86,85.6,85.7,85.7,84.1,84.1,84.3,83.7,84.5,83.8,84.1,84.1],"text":["factor(Year): 2010<br />Life.Exp: 83.000<br />Region: Europe & Central Asia","factor(Year): 2011<br />Life.Exp: 83.300<br />Region: Europe & Central Asia","factor(Year): 2012<br />Life.Exp: 83.100<br />Region: Europe & Central Asia","factor(Year): 2013<br />Life.Exp: 83.200<br />Region: Europe & Central Asia","factor(Year): 2014<br />Life.Exp: 83.900<br />Region: Europe & Central Asia","factor(Year): 2015<br />Life.Exp: 83.400<br />Region: Europe & Central Asia","factor(Year): 2016<br />Life.Exp: 84.000<br />Region: Europe & Central Asia","factor(Year): 2017<br />Life.Exp: 84.000<br />Region: Europe & Central Asia","factor(Year): 2010<br />Life.Exp: 85.300<br />Region: Europe & Central Asia","factor(Year): 2011<br />Life.Exp: 85.700<br />Region: Europe & Central Asia","factor(Year): 2012<br />Life.Exp: 85.400<br />Region: Europe & Central Asia","factor(Year): 2013<br />Life.Exp: 85.600<br />Region: Europe & Central Asia","factor(Year): 2014<br />Life.Exp: 86.000<br />Region: Europe & Central Asia","factor(Year): 2015<br />Life.Exp: 85.600<br />Region: Europe & Central Asia","factor(Year): 2016<br />Life.Exp: 85.700<br />Region: Europe & Central Asia","factor(Year): 2017<br />Life.Exp: 85.700<br />Region: Europe & Central Asia","factor(Year): 2010<br />Life.Exp: 84.100<br />Region: Europe & Central Asia","factor(Year): 2011<br />Life.Exp: 84.100<br />Region: Europe & Central Asia","factor(Year): 2012<br />Life.Exp: 84.300<br />Region: Europe & Central Asia","factor(Year): 2013<br />Life.Exp: 83.700<br />Region: Europe & Central Asia","factor(Year): 2014<br />Life.Exp: 84.500<br />Region: Europe & Central Asia","factor(Year): 2015<br />Life.Exp: 83.800<br />Region: Europe & Central Asia","factor(Year): 2016<br />Life.Exp: 84.100<br />Region: Europe & Central Asia","factor(Year): 2017<br />Life.Exp: 84.100<br />Region: Europe & Central Asia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"Europe & Central Asia","legendgroup":"Europe & Central Asia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8],"y":[75.963,76.161,76.357,76.551,76.742,76.93,77.117,77.3,74.934,75.123,75.316,75.514,75.717,75.924,76.133,76.341,76.728,77.042,77.34,77.623,77.89,78.146,78.391,78.628,79.976,80.187,80.387,80.577,80.757,80.928,81.092,81.251],"text":["factor(Year): 2010<br />Life.Exp: 75.963<br />Region: Latin America & Caribbean","factor(Year): 2011<br />Life.Exp: 76.161<br />Region: Latin America & Caribbean","factor(Year): 2012<br />Life.Exp: 76.357<br />Region: Latin America & Caribbean","factor(Year): 2013<br />Life.Exp: 76.551<br />Region: Latin America & Caribbean","factor(Year): 2014<br />Life.Exp: 76.742<br />Region: Latin America & Caribbean","factor(Year): 2015<br />Life.Exp: 76.930<br />Region: Latin America & Caribbean","factor(Year): 2016<br />Life.Exp: 77.117<br />Region: Latin America & Caribbean","factor(Year): 2017<br />Life.Exp: 77.300<br />Region: Latin America & Caribbean","factor(Year): 2010<br />Life.Exp: 74.934<br />Region: Latin America & Caribbean","factor(Year): 2011<br />Life.Exp: 75.123<br />Region: Latin America & Caribbean","factor(Year): 2012<br />Life.Exp: 75.316<br />Region: Latin America & Caribbean","factor(Year): 2013<br />Life.Exp: 75.514<br />Region: Latin America & Caribbean","factor(Year): 2014<br />Life.Exp: 75.717<br />Region: Latin America & Caribbean","factor(Year): 2015<br />Life.Exp: 75.924<br />Region: Latin America & Caribbean","factor(Year): 2016<br />Life.Exp: 76.133<br />Region: Latin America & Caribbean","factor(Year): 2017<br />Life.Exp: 76.341<br />Region: Latin America & Caribbean","factor(Year): 2010<br />Life.Exp: 76.728<br />Region: Latin America & Caribbean","factor(Year): 2011<br />Life.Exp: 77.042<br />Region: Latin America & Caribbean","factor(Year): 2012<br />Life.Exp: 77.340<br />Region: Latin America & Caribbean","factor(Year): 2013<br />Life.Exp: 77.623<br />Region: Latin America & Caribbean","factor(Year): 2014<br />Life.Exp: 77.890<br />Region: Latin America & Caribbean","factor(Year): 2015<br />Life.Exp: 78.146<br />Region: Latin America & Caribbean","factor(Year): 2016<br />Life.Exp: 78.391<br />Region: Latin America & Caribbean","factor(Year): 2017<br />Life.Exp: 78.628<br />Region: Latin America & Caribbean","factor(Year): 2010<br />Life.Exp: 79.976<br />Region: Latin America & Caribbean","factor(Year): 2011<br />Life.Exp: 80.187<br />Region: Latin America & Caribbean","factor(Year): 2012<br />Life.Exp: 80.387<br />Region: Latin America & Caribbean","factor(Year): 2013<br />Life.Exp: 80.577<br />Region: Latin America & Caribbean","factor(Year): 2014<br />Life.Exp: 80.757<br />Region: Latin America & Caribbean","factor(Year): 2015<br />Life.Exp: 80.928<br />Region: Latin America & Caribbean","factor(Year): 2016<br />Life.Exp: 81.092<br />Region: Latin America & Caribbean","factor(Year): 2017<br />Life.Exp: 81.251<br />Region: Latin America & Caribbean"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"Latin America & Caribbean","legendgroup":"Latin America & Caribbean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8],"y":[77.861,77.925,78.018,78.133,78.273,78.435,78.614,78.803],"text":["factor(Year): 2010<br />Life.Exp: 77.861<br />Region: South Asia","factor(Year): 2011<br />Life.Exp: 77.925<br />Region: South Asia","factor(Year): 2012<br />Life.Exp: 78.018<br />Region: South Asia","factor(Year): 2013<br />Life.Exp: 78.133<br />Region: South Asia","factor(Year): 2014<br />Life.Exp: 78.273<br />Region: South Asia","factor(Year): 2015<br />Life.Exp: 78.435<br />Region: South Asia","factor(Year): 2016<br />Life.Exp: 78.614<br />Region: South Asia","factor(Year): 2017<br />Life.Exp: 78.803<br />Region: South Asia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"South Asia","legendgroup":"South Asia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8],"y":[56.685,57.208,57.72,58.208,58.666,59.092,59.492,59.879,61.897,62.852,63.7,64.462,65.14,65.74,66.271,66.748,58.52,59.904,61.153,62.243,63.158,63.898,64.482,64.955],"text":["factor(Year): 2010<br />Life.Exp: 56.685<br />Region: Sub-Saharan Africa","factor(Year): 2011<br />Life.Exp: 57.208<br />Region: Sub-Saharan Africa","factor(Year): 2012<br />Life.Exp: 57.720<br />Region: Sub-Saharan Africa","factor(Year): 2013<br />Life.Exp: 58.208<br />Region: Sub-Saharan Africa","factor(Year): 2014<br />Life.Exp: 58.666<br />Region: Sub-Saharan Africa","factor(Year): 2015<br />Life.Exp: 59.092<br />Region: Sub-Saharan Africa","factor(Year): 2016<br />Life.Exp: 59.492<br />Region: Sub-Saharan Africa","factor(Year): 2017<br />Life.Exp: 59.879<br />Region: Sub-Saharan Africa","factor(Year): 2010<br />Life.Exp: 61.897<br />Region: Sub-Saharan Africa","factor(Year): 2011<br />Life.Exp: 62.852<br />Region: Sub-Saharan Africa","factor(Year): 2012<br />Life.Exp: 63.700<br />Region: Sub-Saharan Africa","factor(Year): 2013<br />Life.Exp: 64.462<br />Region: Sub-Saharan Africa","factor(Year): 2014<br />Life.Exp: 65.140<br />Region: Sub-Saharan Africa","factor(Year): 2015<br />Life.Exp: 65.740<br />Region: Sub-Saharan Africa","factor(Year): 2016<br />Life.Exp: 66.271<br />Region: Sub-Saharan Africa","factor(Year): 2017<br />Life.Exp: 66.748<br />Region: Sub-Saharan Africa","factor(Year): 2010<br />Life.Exp: 58.520<br />Region: Sub-Saharan Africa","factor(Year): 2011<br />Life.Exp: 59.904<br />Region: Sub-Saharan Africa","factor(Year): 2012<br />Life.Exp: 61.153<br />Region: Sub-Saharan Africa","factor(Year): 2013<br />Life.Exp: 62.243<br />Region: Sub-Saharan Africa","factor(Year): 2014<br />Life.Exp: 63.158<br />Region: Sub-Saharan Africa","factor(Year): 2015<br />Life.Exp: 63.898<br />Region: Sub-Saharan Africa","factor(Year): 2016<br />Life.Exp: 64.482<br />Region: Sub-Saharan Africa","factor(Year): 2017<br />Life.Exp: 64.955<br />Region: Sub-Saharan Africa"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(231,107,243,1)"}},"hoveron":"points","name":"Sub-Saharan Africa","legendgroup":"Sub-Saharan Africa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8],"y":[71.601,72.053,72.457,72.806,73.099,73.342,73.546,73.729],"text":["Country: Mongolia<br />factor(Year): 2010<br />Life.Exp: 71.601<br />Region: East Asia & Pacific","Country: Mongolia<br />factor(Year): 2011<br />Life.Exp: 72.053<br />Region: East Asia & Pacific","Country: Mongolia<br />factor(Year): 2012<br />Life.Exp: 72.457<br />Region: East Asia & Pacific","Country: Mongolia<br />factor(Year): 2013<br />Life.Exp: 72.806<br />Region: East Asia & Pacific","Country: Mongolia<br />factor(Year): 2014<br />Life.Exp: 73.099<br />Region: East Asia & Pacific","Country: Mongolia<br />factor(Year): 2015<br />Life.Exp: 73.342<br />Region: East Asia & Pacific","Country: Mongolia<br />factor(Year): 2016<br />Life.Exp: 73.546<br />Region: East Asia & Pacific","Country: Mongolia<br />factor(Year): 2017<br />Life.Exp: 73.729<br />Region: East Asia & Pacific"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"East Asia & Pacific","legendgroup":"East Asia & Pacific","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,null,1,2,3,4,5,6,7,8,null,1,2,3,4,5,6,7,8],"y":[83,83.3,83.1,83.2,83.9,83.4,84,84,null,85.3,85.7,85.4,85.6,86,85.6,85.7,85.7,null,84.1,84.1,84.3,83.7,84.5,83.8,84.1,84.1],"text":["Country: Belgium<br />factor(Year): 2010<br />Life.Exp: 83.000<br />Region: Europe & Central Asia","Country: Belgium<br />factor(Year): 2011<br />Life.Exp: 83.300<br />Region: Europe & Central Asia","Country: Belgium<br />factor(Year): 2012<br />Life.Exp: 83.100<br />Region: Europe & Central Asia","Country: Belgium<br />factor(Year): 2013<br />Life.Exp: 83.200<br />Region: Europe & Central Asia","Country: Belgium<br />factor(Year): 2014<br />Life.Exp: 83.900<br />Region: Europe & Central Asia","Country: Belgium<br />factor(Year): 2015<br />Life.Exp: 83.400<br />Region: Europe & Central Asia","Country: Belgium<br />factor(Year): 2016<br />Life.Exp: 84.000<br />Region: Europe & Central Asia","Country: Belgium<br />factor(Year): 2017<br />Life.Exp: 84.000<br />Region: Europe & Central Asia",null,"Country: France<br />factor(Year): 2010<br />Life.Exp: 85.300<br />Region: Europe & Central Asia","Country: France<br />factor(Year): 2011<br />Life.Exp: 85.700<br />Region: Europe & Central Asia","Country: France<br />factor(Year): 2012<br />Life.Exp: 85.400<br />Region: Europe & Central Asia","Country: France<br />factor(Year): 2013<br />Life.Exp: 85.600<br />Region: Europe & Central Asia","Country: France<br />factor(Year): 2014<br />Life.Exp: 86.000<br />Region: Europe & Central Asia","Country: France<br />factor(Year): 2015<br />Life.Exp: 85.600<br />Region: Europe & Central Asia","Country: France<br />factor(Year): 2016<br />Life.Exp: 85.700<br />Region: Europe & Central Asia","Country: France<br />factor(Year): 2017<br />Life.Exp: 85.700<br />Region: Europe & Central Asia",null,"Country: Iceland<br />factor(Year): 2010<br />Life.Exp: 84.100<br />Region: Europe & Central Asia","Country: Iceland<br />factor(Year): 2011<br />Life.Exp: 84.100<br />Region: Europe & Central Asia","Country: Iceland<br />factor(Year): 2012<br />Life.Exp: 84.300<br />Region: Europe & Central Asia","Country: Iceland<br />factor(Year): 2013<br />Life.Exp: 83.700<br />Region: Europe & Central Asia","Country: Iceland<br />factor(Year): 2014<br />Life.Exp: 84.500<br />Region: Europe & Central Asia","Country: Iceland<br />factor(Year): 2015<br />Life.Exp: 83.800<br />Region: Europe & Central Asia","Country: Iceland<br />factor(Year): 2016<br />Life.Exp: 84.100<br />Region: Europe & Central Asia","Country: Iceland<br />factor(Year): 2017<br />Life.Exp: 84.100<br />Region: Europe & Central Asia"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)","dash":"solid"},"hoveron":"points","name":"Europe & Central Asia","legendgroup":"Europe & Central Asia","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,null,1,2,3,4,5,6,7,8,null,1,2,3,4,5,6,7,8,null,1,2,3,4,5,6,7,8],"y":[75.963,76.161,76.357,76.551,76.742,76.93,77.117,77.3,null,74.934,75.123,75.316,75.514,75.717,75.924,76.133,76.341,null,76.728,77.042,77.34,77.623,77.89,78.146,78.391,78.628,null,79.976,80.187,80.387,80.577,80.757,80.928,81.092,81.251],"text":["Country: Dominican Republic<br />factor(Year): 2010<br />Life.Exp: 75.963<br />Region: Latin America & Caribbean","Country: Dominican Republic<br />factor(Year): 2011<br />Life.Exp: 76.161<br />Region: Latin America & Caribbean","Country: Dominican Republic<br />factor(Year): 2012<br />Life.Exp: 76.357<br />Region: Latin America & Caribbean","Country: Dominican Republic<br />factor(Year): 2013<br />Life.Exp: 76.551<br />Region: Latin America & Caribbean","Country: Dominican Republic<br />factor(Year): 2014<br />Life.Exp: 76.742<br />Region: Latin America & Caribbean","Country: Dominican Republic<br />factor(Year): 2015<br />Life.Exp: 76.930<br />Region: Latin America & Caribbean","Country: Dominican Republic<br />factor(Year): 2016<br />Life.Exp: 77.117<br />Region: Latin America & Caribbean","Country: Dominican Republic<br />factor(Year): 2017<br />Life.Exp: 77.300<br />Region: Latin America & Caribbean",null,"Country: Honduras<br />factor(Year): 2010<br />Life.Exp: 74.934<br />Region: Latin America & Caribbean","Country: Honduras<br />factor(Year): 2011<br />Life.Exp: 75.123<br />Region: Latin America & Caribbean","Country: Honduras<br />factor(Year): 2012<br />Life.Exp: 75.316<br />Region: Latin America & Caribbean","Country: Honduras<br />factor(Year): 2013<br />Life.Exp: 75.514<br />Region: Latin America & Caribbean","Country: Honduras<br />factor(Year): 2014<br />Life.Exp: 75.717<br />Region: Latin America & Caribbean","Country: Honduras<br />factor(Year): 2015<br />Life.Exp: 75.924<br />Region: Latin America & Caribbean","Country: Honduras<br />factor(Year): 2016<br />Life.Exp: 76.133<br />Region: Latin America & Caribbean","Country: Honduras<br />factor(Year): 2017<br />Life.Exp: 76.341<br />Region: Latin America & Caribbean",null,"Country: Nicaragua<br />factor(Year): 2010<br />Life.Exp: 76.728<br />Region: Latin America & Caribbean","Country: Nicaragua<br />factor(Year): 2011<br />Life.Exp: 77.042<br />Region: Latin America & Caribbean","Country: Nicaragua<br />factor(Year): 2012<br />Life.Exp: 77.340<br />Region: Latin America & Caribbean","Country: Nicaragua<br />factor(Year): 2013<br />Life.Exp: 77.623<br />Region: Latin America & Caribbean","Country: Nicaragua<br />factor(Year): 2014<br />Life.Exp: 77.890<br />Region: Latin America & Caribbean","Country: Nicaragua<br />factor(Year): 2015<br />Life.Exp: 78.146<br />Region: Latin America & Caribbean","Country: Nicaragua<br />factor(Year): 2016<br />Life.Exp: 78.391<br />Region: Latin America & Caribbean","Country: Nicaragua<br />factor(Year): 2017<br />Life.Exp: 78.628<br />Region: Latin America & Caribbean",null,"Country: Panama<br />factor(Year): 2010<br />Life.Exp: 79.976<br />Region: Latin America & Caribbean","Country: Panama<br />factor(Year): 2011<br />Life.Exp: 80.187<br />Region: Latin America & Caribbean","Country: Panama<br />factor(Year): 2012<br />Life.Exp: 80.387<br />Region: Latin America & Caribbean","Country: Panama<br />factor(Year): 2013<br />Life.Exp: 80.577<br />Region: Latin America & Caribbean","Country: Panama<br />factor(Year): 2014<br />Life.Exp: 80.757<br />Region: Latin America & Caribbean","Country: Panama<br />factor(Year): 2015<br />Life.Exp: 80.928<br />Region: Latin America & Caribbean","Country: Panama<br />factor(Year): 2016<br />Life.Exp: 81.092<br />Region: Latin America & Caribbean","Country: Panama<br />factor(Year): 2017<br />Life.Exp: 81.251<br />Region: Latin America & Caribbean"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)","dash":"solid"},"hoveron":"points","name":"Latin America & Caribbean","legendgroup":"Latin America & Caribbean","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8],"y":[77.861,77.925,78.018,78.133,78.273,78.435,78.614,78.803],"text":["Country: Sri Lanka<br />factor(Year): 2010<br />Life.Exp: 77.861<br />Region: South Asia","Country: Sri Lanka<br />factor(Year): 2011<br />Life.Exp: 77.925<br />Region: South Asia","Country: Sri Lanka<br />factor(Year): 2012<br />Life.Exp: 78.018<br />Region: South Asia","Country: Sri Lanka<br />factor(Year): 2013<br />Life.Exp: 78.133<br />Region: South Asia","Country: Sri Lanka<br />factor(Year): 2014<br />Life.Exp: 78.273<br />Region: South Asia","Country: Sri Lanka<br />factor(Year): 2015<br />Life.Exp: 78.435<br />Region: South Asia","Country: Sri Lanka<br />factor(Year): 2016<br />Life.Exp: 78.614<br />Region: South Asia","Country: Sri Lanka<br />factor(Year): 2017<br />Life.Exp: 78.803<br />Region: South Asia"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)","dash":"solid"},"hoveron":"points","name":"South Asia","legendgroup":"South Asia","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,null,1,2,3,4,5,6,7,8,null,1,2,3,4,5,6,7,8],"y":[56.685,57.208,57.72,58.208,58.666,59.092,59.492,59.879,null,61.897,62.852,63.7,64.462,65.14,65.74,66.271,66.748,null,58.52,59.904,61.153,62.243,63.158,63.898,64.482,64.955],"text":["Country: Burundi<br />factor(Year): 2010<br />Life.Exp: 56.685<br />Region: Sub-Saharan Africa","Country: Burundi<br />factor(Year): 2011<br />Life.Exp: 57.208<br />Region: Sub-Saharan Africa","Country: Burundi<br />factor(Year): 2012<br />Life.Exp: 57.720<br />Region: Sub-Saharan Africa","Country: Burundi<br />factor(Year): 2013<br />Life.Exp: 58.208<br />Region: Sub-Saharan Africa","Country: Burundi<br />factor(Year): 2014<br />Life.Exp: 58.666<br />Region: Sub-Saharan Africa","Country: Burundi<br />factor(Year): 2015<br />Life.Exp: 59.092<br />Region: Sub-Saharan Africa","Country: Burundi<br />factor(Year): 2016<br />Life.Exp: 59.492<br />Region: Sub-Saharan Africa","Country: Burundi<br />factor(Year): 2017<br />Life.Exp: 59.879<br />Region: Sub-Saharan Africa",null,"Country: Congo<br />factor(Year): 2010<br />Life.Exp: 61.897<br />Region: Sub-Saharan Africa","Country: Congo<br />factor(Year): 2011<br />Life.Exp: 62.852<br />Region: Sub-Saharan Africa","Country: Congo<br />factor(Year): 2012<br />Life.Exp: 63.700<br />Region: Sub-Saharan Africa","Country: Congo<br />factor(Year): 2013<br />Life.Exp: 64.462<br />Region: Sub-Saharan Africa","Country: Congo<br />factor(Year): 2014<br />Life.Exp: 65.140<br />Region: Sub-Saharan Africa","Country: Congo<br />factor(Year): 2015<br />Life.Exp: 65.740<br />Region: Sub-Saharan Africa","Country: Congo<br />factor(Year): 2016<br />Life.Exp: 66.271<br />Region: Sub-Saharan Africa","Country: Congo<br />factor(Year): 2017<br />Life.Exp: 66.748<br />Region: Sub-Saharan Africa",null,"Country: Zambia<br />factor(Year): 2010<br />Life.Exp: 58.520<br />Region: Sub-Saharan Africa","Country: Zambia<br />factor(Year): 2011<br />Life.Exp: 59.904<br />Region: Sub-Saharan Africa","Country: Zambia<br />factor(Year): 2012<br />Life.Exp: 61.153<br />Region: Sub-Saharan Africa","Country: Zambia<br />factor(Year): 2013<br />Life.Exp: 62.243<br />Region: Sub-Saharan Africa","Country: Zambia<br />factor(Year): 2014<br />Life.Exp: 63.158<br />Region: Sub-Saharan Africa","Country: Zambia<br />factor(Year): 2015<br />Life.Exp: 63.898<br />Region: Sub-Saharan Africa","Country: Zambia<br />factor(Year): 2016<br />Life.Exp: 64.482<br />Region: Sub-Saharan Africa","Country: Zambia<br />factor(Year): 2017<br />Life.Exp: 64.955<br />Region: Sub-Saharan Africa"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(231,107,243,1)","dash":"solid"},"hoveron":"points","name":"Sub-Saharan Africa","legendgroup":"Sub-Saharan Africa","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":24.8714938030007,"r":7.30593607305936,"b":38.825831702544,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,8.6],"tickmode":"array","ticktext":["2010","2011","2012","2013","2014","2015","2016","2017"],"tickvals":[1,2,3,4,5,6,7,8],"categoryorder":"array","categoryarray":["2010","2011","2012","2013","2014","2015","2016","2017"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"factor(Year)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[55.21925,87.46575],"tickmode":"array","ticktext":["60","70","80"],"tickvals":[60,70,80],"categoryorder":"array","categoryarray":["60","70","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Life.Exp","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.958755155605549},"annotations":[{"text":"Region","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"163c7f1559e":{"x":{},"y":{},"colour":{},"type":"scatter"},"163c7177136f":{"x":{},"y":{},"colour":{}}},"cur_data":"163c7f1559e","visdat":{"163c7f1559e":["function (y) ","x"],"163c7177136f":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
]
  
---

# Extensiones: ggplot2-exts.org

&lt;img src="images/ggplot2-exts-gallery.png" style="max-height: 100%"&gt;
  
---

# Referencias 
  
### Links interesantes

- **ggplot2:** &lt;http://ggplot2.tidyverse.org/&gt;
  
- **R4DS - Data visualization:** &lt;http://r4ds.had.co.nz/data-visualisation.html&gt;
  
- **How ggplot works:** &lt;https://socviz.co/makeplot.html#how-ggplot-works&gt;

### RStudio Add-Ins

- [ggplotThemeAssist](https://github.com/calligross/ggthemeassist): Customize your ggplot theme interactively

- [ggedit](https://github.com/metrumresearchgroup/ggedit): Layer, scale, and theme editing

---

class: inverse center middle text-white 

.font70["The greatest value of a picture is when it forces us to notice what we never expected to see."
.right[John Tukey]]


.font120[Eskerrik asko!]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "foundation",
"highlightLines": true,
"countIncrementalSlides": true,
"slideNumberFormat": "%current%"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
